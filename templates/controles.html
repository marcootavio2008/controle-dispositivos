{% extends "base.html" %}

{% block title %}Dash Residencial{% endblock %}

{% block page_title %}ResidÃªncia{% endblock %}

{% block content %}
<h2>Controle de Luz</h2>
<label class="switch">
  <input type="checkbox" onchange="toggleLight(this)">
  <span class="slider"></span>
</label>

<script>
function toggleLight(checkbox) {
    if (checkbox.checked) {
        fetch('/controle_luz?acao=ligar');
    } else {
        fetch('/controle_luz?acao=desligar');
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const btn = document.querySelector('.add-disp');

    if (btn) {
        btn.addEventListener('click', () => {
            window.location.href = "/add_dispositivo";
        });
    }
});

</script>


<h2>Controle TV</h2>
<label class="switch">
<input type="checkbox" onchange="">
<span class="slider"></span>
</label>

<div>
<button class="add-disp" href="{{url_for('add_dispositivo')}}">
    Adicionar dispositivo</button> 
</div>

{% endblock %}
